<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Grivolt - Book Charging Slot</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
<link rel="stylesheet" href="../CSS/style.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<style>
  #map { height: 400px; width: 100%; border-radius: 12px; margin-bottom: 20px; }
</style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <img src="GVlogo.png" class="logo-img" alt="Grivolt Logo">
      <span class="brand">Grivolt</span>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="nav-links ms-auto">
        <li><a href="index.html">Home</a></li>
        <li><a href="booking.html" class="active">Book</a></li>
        <li><a href="dashboard.html">Dashboard</a></li>
        <li><a href="login.html">Login</a></li>
        <li><a href="signup.html">Sign Up</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Booking Header -->
<section class="page-header text-center">
  <h2>Book Your <span class="highlight">Charging Slot</span></h2>
  <p>Find a nearby EV charging station and reserve your slot instantly.</p>
</section>

<!-- Leaflet Map -->
<div class="container my-4">
  <div id="map"></div>
</div>

<!-- Booking Form -->
<div class="login-container d-flex justify-content-center align-items-center mb-5">
  <form id="bookingForm" class="card shadow p-4 rounded" style="max-width: 500px; width: 100%;" novalidate>
    <h3 class="text-center mb-4" style="color: #3b7d3b;">Reserve Slot</h3>

    <div class="mb-3">
      <label for="stationName" class="form-label fw-semibold">Charging Station</label>
      <select class="form-select" id="stationName" required>
        <option value="" selected disabled>Select Station</option>
        <option value="Delhi Central">Delhi Central</option>
        <option value="Mumbai Bandra">Mumbai Bandra</option>
        <option value="Bangalore MG Road">Bangalore MG Road</option>
        <option value="Chennai Marina">Chennai Marina</option>
      </select>
      <div class="invalid-feedback">Please select a station.</div>
    </div>

    <div class="mb-3">
      <label for="vehicleType" class="form-label fw-semibold">Vehicle Type</label>
      <select class="form-select" id="vehicleType" required>
        <option value="" selected disabled>Select Vehicle</option>
        <option value="Car">Car</option>
        <option value="Bike">Bike</option>
      </select>
      <div class="invalid-feedback">Please select vehicle type.</div>
    </div>

    <div class="mb-3">
      <label for="date" class="form-label fw-semibold">Date</label>
      <input type="date" class="form-control" id="date" required>
      <div class="invalid-feedback">Please select a date.</div>
    </div>

    <div class="mb-3">
      <label for="time" class="form-label fw-semibold">Time</label>
      <input type="time" class="form-control" id="time" required>
      <div class="invalid-feedback">Please select a time.</div>
    </div>

    <button type="submit" class="btn btn-outline-success w-100 fw-bold">Book Slot</button>
  </form>
</div>

<!-- Footer -->
<footer>
  <p>&copy; 2025 Grivolt. All Rights Reserved. | Designed for Sustainable EV Charging.</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
// Initialize Leaflet map
const map = L.map('map').setView([20.5937, 78.9629], 5); // India center
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  maxZoom: 19
}).addTo(map);

// Sample stations markers
const stations = [
  { name: "Delhi Central", coords: [28.6139, 77.2090] },
  { name: "Mumbai Bandra", coords: [19.0600, 72.8300] },
  { name: "Bangalore MG Road", coords: [12.9716, 77.5946] },
  { name: "Chennai Marina", coords: [13.0827, 80.2707] }
];

stations.forEach(station => {
  L.marker(station.coords).addTo(map)
    .bindPopup(`<b>${station.name}</b>`)
    .openPopup();
});

// Booking form validation
(function() {
  const form = document.getElementById('bookingForm');
  form.addEventListener('submit', function(event) {
    event.preventDefault();
    [...form.elements].forEach(el => el.classList.remove('is-invalid'));

    let valid = true;
    if (!form.stationName.value) { form.stationName.classList.add('is-invalid'); valid = false; }
    if (!form.vehicleType.value) { form.vehicleType.classList.add('is-invalid'); valid = false; }
    if (!form.date.value) { form.date.classList.add('is-invalid'); valid = false; }
    if (!form.time.value) { form.time.classList.add('is-invalid'); valid = false; }

    if (valid) {
      alert(`Slot booked successfully at ${form.stationName.value} on ${form.date.value} at ${form.time.value}`);
      form.reset();
    }
  });
})();
</script>

</body>
</html>
